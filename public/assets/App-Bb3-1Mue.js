import{u as v,a as G,r as n,j as e,B as i,S as s,T as c,b as m}from"./index-BV-z0Dyj.js";import{G as h}from"./GameCard-D7UPmz88.js";import{T as w,a as d}from"./Tabs-Bqj-Yvcl.js";function A(){const r=v(),[g,p]=G(),[x,j]=n.useState([]),[o,u]=n.useState([]),[l,b]=n.useState(()=>{const a=g.get("tab");return a?parseInt(a,10):0});n.useEffect(()=>{(async()=>{try{const t=await m.get("/api/game/recent");j(t);const f=await m.get("/api/game/my-recent");u(f)}catch(t){console.error("Error fetching games:",t)}})()},[]);const y=(a,t)=>{b(t),p({tab:t.toString()})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",position:"absolute",bottom:75,right:16},children:e.jsx(i,{sx:{flex:1},size:"large",variant:"contained",color:"warning",onClick:()=>{r("/game")},children:"Start new game"})}),e.jsxs(w,{value:l,onChange:y,variant:"fullWidth",children:[e.jsx(d,{label:"My Games"}),e.jsx(d,{label:"All Games"})]}),e.jsx(s,{spacing:2,sx:{width:"100%",marginTop:2},children:l===0?e.jsxs(s,{spacing:2,children:[e.jsxs(s,{direction:"row",justifyContent:"space-between",children:[e.jsx(c,{variant:"h5",textAlign:"center",children:"My Recent Games"}),e.jsx(i,{variant:"outlined",color:"primary",onClick:()=>r("/my-games"),children:"View all my games"})]}),o.length===0?e.jsx(c,{variant:"body1",children:"You haven't created any games yet."}):o.map(a=>e.jsx(h,{game:a},a._id))]}):e.jsxs(s,{spacing:2,children:[e.jsxs(s,{direction:"row",justifyContent:"space-between",children:[e.jsx(c,{variant:"h5",textAlign:"center",children:"Recent Games"}),e.jsx(i,{variant:"outlined",color:"primary",onClick:()=>r("/all-games?tab=1"),children:"View all games"})]}),x.map(a=>e.jsx(h,{game:a,showUser:!0},a._id))]})})]})}export{A as default};

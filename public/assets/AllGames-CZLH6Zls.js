import{u as y,a as A,r as t,j as a,S as m,T as c,b as l}from"./index-BV-z0Dyj.js";import{G as h}from"./GameCard-D7UPmz88.js";import{T as S,a as d}from"./Tabs-Bqj-Yvcl.js";const P=()=>{const g=y(),[p,u]=A(),[x,b]=t.useState([]),[o,j]=t.useState([]),[i,v]=t.useState(()=>{const e=p.get("tab");return e?parseInt(e,10):0});t.useEffect(()=>{(async()=>{try{const s=await l.get("/api/game/all");b(s.sort((r,n)=>new Date(n.createdAt)-new Date(r.createdAt)));const f=await l.get("/api/game/my-games");j(f.sort((r,n)=>new Date(n.createdAt)-new Date(r.createdAt)))}catch(s){console.error("Error fetching games:",s)}})()},[]);const G=(e,s)=>{v(s),u({tab:s.toString()})};return a.jsxs(a.Fragment,{children:[a.jsxs(S,{value:i,onChange:G,variant:"fullWidth",sx:{mb:2},children:[a.jsx(d,{label:"My Games"}),a.jsx(d,{label:"All Games"})]}),i===0?a.jsxs(m,{spacing:2,children:[a.jsx(c,{variant:"h5",children:"My Games"}),o.length===0?a.jsx(c,{variant:"body1",children:"You haven't created any games yet."}):o.map(e=>a.jsx(h,{game:e},e._id))]}):a.jsxs(m,{spacing:2,children:[a.jsx(c,{variant:"h5",children:"All Games"}),x.map(e=>a.jsx(h,{game:e,showUser:!0,onNavigate:()=>g(`/game/results/${e._id}`)},e._id))]})]})};export{P as default};

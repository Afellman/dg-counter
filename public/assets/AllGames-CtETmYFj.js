import{u as y,a as A,r as t,j as e,S as m,T as c,b as h}from"./index-D00mcfc6.js";import{G as d}from"./GameCard-BAGijEQN.js";import{T as S,a as g}from"./Tabs-BwC8jvZ1.js";const P=()=>{const o=y(),[p,u]=A(),[x,b]=t.useState([]),[i,j]=t.useState([]),[l,v]=t.useState(()=>{const a=p.get("tab");return a?parseInt(a,10):0});t.useEffect(()=>{(async()=>{try{const s=await h.get("/api/game/all");b(s.sort((r,n)=>new Date(n.createdAt)-new Date(r.createdAt)));const f=await h.get("/api/game/my-games");j(f.sort((r,n)=>new Date(n.createdAt)-new Date(r.createdAt)))}catch(s){console.error("Error fetching games:",s)}})()},[]);const G=(a,s)=>{v(s),u({tab:s.toString()})};return e.jsxs(e.Fragment,{children:[e.jsxs(S,{value:l,onChange:G,variant:"fullWidth",sx:{mb:2},children:[e.jsx(g,{label:"My Games"}),e.jsx(g,{label:"All Games"})]}),l===0?e.jsxs(m,{spacing:2,children:[e.jsx(c,{variant:"h5",children:"My Games"}),i.length===0?e.jsx(c,{variant:"body1",children:"You haven't created any games yet."}):i.map(a=>e.jsx(d,{game:a,onNavigate:()=>o(`/game/results/${a._id}`)},a._id))]}):e.jsxs(m,{spacing:2,children:[e.jsx(c,{variant:"h5",children:"All Games"}),x.map(a=>e.jsx(d,{game:a,showUser:!0,onNavigate:()=>o(`/game/results/${a._id}`)},a._id))]})]})};export{P as default};
